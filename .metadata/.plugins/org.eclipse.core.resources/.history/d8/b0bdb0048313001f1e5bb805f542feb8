/*
 * Functions.c
 *
 *  Created on: May 16, 2024
 *      Author: luuk
 */

#include "Functions.h"

uint8_t PrepareCommutation (char Direction) {

	// Read IDR for Hall Sensor status
	uint16_t Hall = (GPIOA->IDR & 0b111) - 1 + 6 * Direction;

	// Set Registers to required values
	TIM1->CCER  = Commutation[Hall][0];
	TIM1->CCMR1 = Commutation[Hall][2];
	TIM1->CCMR2 = Commutation[Hall][1];

	return HAL_OK;

}
